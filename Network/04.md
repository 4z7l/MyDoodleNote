# 04 3계층



## 3계층의 기능

### 3계층에서 하는 일

- 3계층은 다른 네트워크 대역, 멀리 떨어진 곳의 네트워크까지 어떻게 데이터를 전달할지 제어하는 일을 담당
- 3계층 장비가 필요함
- 발신에서 착신까지의 패킷 경로를 제어함



### 3계층에서 쓰는 주소

- IP 주소 사용
- IPv4 : 현재 PC에 할당된 IP 주소
- 서브넷 마스크
- 기본 게이트웨이



### 3계층 프로토콜

- ARP 프로토콜 : IP 주소를 통해 MAC주소를 알아옴
- IPv4 프로토콜 : WAN에서 통신할 때 사용
- ICMP 프로토콜 : 서로가 통신되는지 확인할 때 사용



## 일반적인 IP 주소

### Classful IP 주소

- 낭비가 심함
- 2진수 8개로 0~255까지 표현 가능

![IPv4 Classful and Classless Addressing » NetworkUstad](https://i2.wp.com/networkustad.com/wp-content/uploads/2019/07/Classful-IPv4-Addressing-Information-Table.png)



### Classfulless  IP 주소

- 원래는 점이 찍혀있는 필드 단위로 구분했다면, 어디서든 자를수있게
- 낭비되지 않도록 아껴씀

#### 서브넷 마스크

- Classful한 네트워크 대역을 나눠주는데 사용
- 어디까지가 네트워크 대역을 구분하는데 사용하고 어디서부터 호스트를 구분하는데 사용하는지 지정
- 2진수로 표기했을때 1이 나오는곳까지
- ex) 11111111.11111111.11111111.11000000 이면 같은 네트워크 대역에서 64개 컴퓨터 구분 가능



### 사설 IP와 공인 IP

- 사설 IP와 공인 IP로 나뉨
- 공인 IP 1개당 2^32개의 사설 IP
- NAT(Network Address Translation)를 사용
- 실제 인터넷 세상에서는 공인 IP로만 통신함. 사설IP가 보이지 않음



### 특수한 IP 주소

- 0.0.0.0/0 : 와일드카드
- 127.0.0.1 : 나 자신을 나타냄
- 게이트웨이 주소 : 일반적으로 공유기의 IP